<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Is It The Weekend Yet?</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        /* Custom styles for the page and animations */
        body {
            font-family: 'Inter', sans-serif;
            overflow: hidden; /* Prevents scrollbars from the animated background */
        }

        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: linear-gradient(45deg, #6d28d9, #be185d, #f59e0b, #10b981);
            background-size: 400% 400%;
            animation: gradient-animation 20s ease infinite;
        }

        @keyframes gradient-animation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* Glassmorphism effect for the cards */
        .card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px); /* For Safari */
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        /* Animation for the number flipping effect */
        .flip {
            animation: flip-animation 0.5s cubic-bezier(0.455, 0.030, 0.515, 0.955);
        }

        @keyframes flip-animation {
            0% {
                transform: rotateX(90deg);
                opacity: 0;
            }
            100% {
                transform: rotateX(0deg);
                opacity: 1;
            }
        }

        /* Styling for the progress bar */
        .progress-bar-container {
            background-color: rgba(0, 0, 0, 0.2);
        }

        .progress-bar {
            transition: width 1s ease-out;
        }
    </style>
</head>
<body class="text-white">
    <div class="animated-bg"></div>

    <main class="min-h-screen flex flex-col items-center justify-center p-4">
        <div id="countdown-container" class="text-center">
            <h1 class="text-4xl md:text-6xl font-black uppercase tracking-wider mb-2">The Weekend Is Coming</h1>
            <p class="text-lg md:text-2xl font-light text-gray-200 mb-12">Countdown to Friday at 4:00 PM</p>

            <!-- Countdown Timer -->
            <div class="grid grid-cols-2 sm:grid-cols-4 gap-4 md:gap-8 max-w-4xl mx-auto">
                <!-- Days -->
                <div class="card rounded-2xl p-6 md:p-8">
                    <span id="days" class="text-6xl md:text-8xl font-bold">0</span>
                    <p class="text-sm md:text-lg font-semibold uppercase tracking-widest mt-2">Days</p>
                </div>
                <!-- Hours -->
                <div class="card rounded-2xl p-6 md:p-8">
                    <span id="hours" class="text-6xl md:text-8xl font-bold">0</span>
                    <p class="text-sm md:text-lg font-semibold uppercase tracking-widest mt-2">Hours</p>
                </div>
                <!-- Minutes -->
                <div class="card rounded-2xl p-6 md:p-8">
                    <span id="minutes" class="text-6xl md:text-8xl font-bold">0</span>
                    <p class="text-sm md:text-lg font-semibold uppercase tracking-widest mt-2">Minutes</p>
                </div>
                <!-- Seconds -->
                <div class="card rounded-2xl p-6 md:p-8">
                    <span id="seconds" class="text-6xl md:text-8xl font-bold">0</span>
                    <p class="text-sm md:text-lg font-semibold uppercase tracking-widest mt-2">Seconds</p>
                </div>
            </div>
            
            <!-- Progress Bar -->
            <div class="w-full max-w-4xl mx-auto mt-12">
                 <p class="text-sm text-left mb-2 font-medium">Weekly Progress</p>
                <div class="progress-bar-container w-full h-4 rounded-full overflow-hidden">
                    <div id="progress-bar" class="progress-bar h-full bg-gradient-to-r from-green-400 to-blue-500 rounded-full" style="width: 0%;"></div>
                </div>
            </div>

        </div>

        <!-- Weekend Message -->
        <div id="weekend-message" class="hidden text-center">
            <h1 class="text-6xl md:text-8xl font-black uppercase tracking-wider">It's The Weekend!</h1>
            <p class="text-xl md:text-3xl font-light text-gray-200 mt-4">Enjoy your time off! The countdown will resume on Monday.</p>
        </div>

    </main>

    <script>
        // DOM Elements
        const daysEl = document.getElementById('days');
        const hoursEl = document.getElementById('hours');
        const minutesEl = document.getElementById('minutes');
        const secondsEl = document.getElementById('seconds');
        const countdownContainer = document.getElementById('countdown-container');
        const weekendMessage = document.getElementById('weekend-message');
        const progressBar = document.getElementById('progress-bar');

        let lastSeconds = -1;

        function getNextFriday4PM() {
            const now = new Date();
            const nextFriday = new Date(now.getTime());
            
            // Find the next Friday
            // Day of week: Sunday = 0, Monday = 1, ..., Friday = 5, Saturday = 6
            const currentDay = now.getDay();
            const daysUntilFriday = (5 - currentDay + 7) % 7;
            
            nextFriday.setDate(now.getDate() + daysUntilFriday);
            
            // Set the time to 4 PM
            nextFriday.setHours(16, 0, 0, 0);

            // If it's Friday and after 4 PM, countdown to next week's Friday
            if (currentDay === 5 && now.getHours() >= 16) {
                nextFriday.setDate(nextFriday.getDate() + 7);
            }
            
            // If it's Saturday or Sunday, make sure it points to the upcoming Friday
            if (currentDay === 6) {
                 nextFriday.setDate(now.getDate() + 6);
            }
             if (currentDay === 0) {
                 nextFriday.setDate(now.getDate() + 5);
            }

            return nextFriday;
        }

        function updateCountdown() {
            const now = new Date();
            const targetDate = getNextFriday4PM();
            const totalSeconds = (targetDate - now) / 1000;

            if (totalSeconds <= 0) {
                // The weekend has arrived!
                countdownContainer.classList.add('hidden');
                weekendMessage.classList.remove('hidden');
                clearInterval(countdownInterval);
                return;
            }

            const days = Math.floor(totalSeconds / 3600 / 24);
            const hours = Math.floor(totalSeconds / 3600) % 24;
            const minutes = Math.floor(totalSeconds / 60) % 60;
            const seconds = Math.floor(totalSeconds) % 60;
            
            // Animate only when the number changes
            animateIfChanged(daysEl, days);
            animateIfChanged(hoursEl, hours);
            animateIfChanged(minutesEl, minutes);
            animateIfChanged(secondsEl, seconds, true);
            
            updateProgressBar(now);
        }
        
        function animateIfChanged(element, newValue, isSecond = false) {
            const currentValue = parseInt(element.innerText);
            if (currentValue !== newValue) {
                element.innerText = newValue;
                element.classList.add('flip');
                element.addEventListener('animationend', () => {
                    element.classList.remove('flip');
                }, { once: true });
            } else if (isSecond) { // Keep seconds flipping
                 element.classList.add('flip');
                 element.addEventListener('animationend', () => {
                    element.classList.remove('flip');
                }, { once: true });
            }
        }
        
        function updateProgressBar(now) {
            // Define the start of the work week (Monday 9 AM) and end (Friday 4 PM)
            const weekStart = new Date(now);
            const dayOfWeek = now.getDay();
            const distanceToMonday = (dayOfWeek === 0) ? 6 : dayOfWeek - 1; // 0 for Mon, 6 for Sun
            weekStart.setDate(now.getDate() - distanceToMonday);
            weekStart.setHours(9, 0, 0, 0);

            const weekEnd = getNextFriday4PM();
            
            // If we are past Friday 4pm, progress is 100% until Monday morning
            if (now > weekEnd || (dayOfWeek === 5 && now.getHours() >= 16) || dayOfWeek === 6 || dayOfWeek === 0 ) {
                 progressBar.style.width = '100%';
                 return;
            }
            // If before Monday 9am, progress is 0%
            if (now < weekStart) {
                progressBar.style.width = '0%';
                return;
            }

            const totalWeekMilliseconds = weekEnd - weekStart;
            const elapsedMilliseconds = now - weekStart;
            
            const progressPercentage = Math.min((elapsedMilliseconds / totalWeekMilliseconds) * 100, 100);

            progressBar.style.width = `${progressPercentage}%`;
        }


        // Initial call to set the values immediately
        updateCountdown();

        // Update the countdown every second
        const countdownInterval = setInterval(updateCountdown, 1000);
    </script>
</body>
</html>
